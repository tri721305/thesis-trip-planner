<!doctype html>
<html>
  <head>
    <title>Location Data Debug Test</title>
  </head>
  <body>
    <h1>Location Data Debug Test</h1>
    <p>Check browser console for debug information</p>

    <script>
      console.log("=== BROWSER TEST ===");

      // Simulate the exact data flow
      const testLocationData = () => {
        const place = {
          _id: "test123",
          name: "Test Temple",
          location: {
            type: "Point",
            coordinates: [106.7009, 10.7769],
          },
        };

        console.log("Original place:", place);
        console.log("Has location:", !!place.location);
        console.log("Coordinates:", place.location?.coordinates);

        // Test spread operator (used in handlePlaceSelect)
        const newPlaceItem = {
          type: "place",
          ...place,
          location: place.location
            ? {
                type: place.location.type || "Point",
                coordinates: place.location.coordinates,
              }
            : undefined,
          timeStart: "",
          timeEnd: "",
        };

        console.log("New place item:", newPlaceItem);
        console.log("New item has location:", !!newPlaceItem.location);
        console.log(
          "New item coordinates:",
          newPlaceItem.location?.coordinates
        );

        return newPlaceItem;
      };

      const result = testLocationData();
      console.log("Final result:", result);

      // Test if we can navigate to the actual app
      if (window.location.hostname === "localhost") {
        console.log("âœ… Running on localhost - can test the actual app");
        console.log("Navigate to a planner page and check console logs");
      }
    </script>
  </body>
</html>
